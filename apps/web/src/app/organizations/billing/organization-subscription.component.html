<div class="page-header">
  <h1>
    {{ "subscription" | i18n }}
    <small *ngIf="firstLoaded && loading">
      <i
        class="bwi bwi-spinner bwi-spin text-muted"
        title="{{ 'loading' | i18n }}"
        aria-hidden="true"
      ></i>
      <span class="sr-only">{{ "loading" | i18n }}</span>
    </small>
  </h1>
</div>
<ng-container *ngIf="!firstLoaded && loading">
  <i class="bwi bwi-spinner bwi-spin text-muted" title="{{ 'loading' | i18n }}"></i>
  <span class="sr-only">{{ "loading" | i18n }}</span>
</ng-container>

<app-org-subscription-hidden
  *ngIf="firstLoaded && !userOrg.canManageBilling"
  [providerName]="userOrg.providerName"
></app-org-subscription-hidden>

<ng-container *ngIf="sub && !loading">
  <app-org-subscription-cloud
    *ngIf="!selfHosted"
    [sub]="sub"
    [organizationId]="organizationId"
    [loading]="loading"
    [userOrg]="userOrg"
    (reload)="load()"
  >
  </app-org-subscription-cloud>
  <app-org-subscription-selfhost
    *ngIf="selfHosted"
    [sub]="sub"
    [organizationId]="organizationId"
    [userOrg]="userOrg"
    (reload)="load()"
  ></app-org-subscription-selfhost>
</ng-container>
