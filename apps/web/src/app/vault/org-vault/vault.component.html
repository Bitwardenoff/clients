<!-- Please remove this disable statement when editing this file! -->
<!-- eslint-disable @angular-eslint/template/button-has-type -->
<div class="container page-content">
  <div class="row">
    <div class="col-3">
      <div class="groupings">
        <div class="content">
          <div class="inner-content">
            <app-organization-vault-filter
              #vaultFilter
              [organization]="organization"
              [activeFilter]="activeFilter"
              (onSearchTextChanged)="filterSearchText($event)"
            ></app-organization-vault-filter>
          </div>
        </div>
      </div>
    </div>
    <div class="col-9">
      <app-org-vault-header
        [activeFilter]="activeFilter"
        (onCollectionChanged)="refreshItems()"
        [actionPromise]="null"
        (onAddCipher)="addCipher()"
        [organization]="organization"
      ></app-org-vault-header>
      <app-callout
        type="warning"
        *ngIf="activeFilter.isDeleted"
        icon="bwi bwi-exclamation-triangle"
      >
        {{ trashCleanupWarning }}
      </app-callout>
      <app-new-vault-items
        [ciphers]="ciphers$ | async"
        [collections]="collections$ | async"
        [allCollections]="allCollections$ | async"
        [allOrganizations]="[organization$ | async]"
        [allGroups]="allGroups$ | async"
        [disabled]="loading$ | async"
        [showOwner]="false"
        [showCollections]="(filter$ | async)?.type !== undefined"
        [showGroups]="
          ((filter$ | async)?.type === undefined &&
            (filter$ | async)?.collectionId === undefined) ||
          (filter$ | async)?.collectionId !== undefined
        "
        [showPremiumFeatures]="true"
        [showBulkMove]="false"
        [showBulkTrashOptions]="(filter$ | async)?.type === 'trash'"
        [useEvents]="(organization$ | async).useEvents"
        [editableCollections]="true"
        [cloneableOrganizationCiphers]="true"
        (onEvent)="onVaultItemsEvent($event)"
      >
      </app-new-vault-items>
      <div
        class="tw-mt-6 tw-flex tw-h-full tw-flex-col tw-items-center tw-justify-start"
        *ngIf="(showMissingCollectionPermissionMessage$ | async) || (isEmpty$ | async)"
      >
        <ng-container *ngIf="!initialSyncCompleted">
          <i
            class="bwi bwi-spinner bwi-spin text-muted"
            title="{{ 'loading' | i18n }}"
            aria-hidden="true"
          ></i>
          <span class="sr-only">{{ "loading" | i18n }}</span>
        </ng-container>
        <ng-container *ngIf="initialSyncCompleted">
          <bit-icon [icon]="noItemIcon" aria-hidden="true"></bit-icon>
          <ng-container *ngIf="showMissingCollectionPermissionMessage$ | async">
            <p>{{ "noPermissionToViewAllCollectionItems" | i18n }}</p>
          </ng-container>
          <ng-container *ngIf="!(showMissingCollectionPermissionMessage$ | async)">
            <p>{{ "noItemsInList" | i18n }}</p>
            <button
              type="button"
              buttonType="primary"
              bitButton
              (click)="addCipher()"
              *ngIf="(filter$ | async)?.type !== 'trash'"
            >
              <i class="bwi bwi-plus bwi-fw" aria-hidden="true"></i>
              {{ "newItem" | i18n }}
            </button>
          </ng-container>
        </ng-container>
      </div>
    </div>
  </div>
  <ng-template #attachments></ng-template>
  <ng-template #cipherAddEdit></ng-template>
  <ng-template #collections></ng-template>
  <ng-template #eventsTemplate></ng-template>
</div>
