<!-- TODO: migrate all translations to non-web clients. -->
<div class="tw-max-w-[28rem] tw-min-w-[28rem]">
  <ng-container *ngIf="state === RegistrationStartState.USER_DATA_ENTRY">
    <form [formGroup]="formGroup" [bitSubmit]="submit">
      <ng-container *ngIf="isBrowserOrDesktop">
        <bit-form-field>
          <bit-label>{{ "creatingAccountOn" | i18n }}</bit-label>
          <bit-select formControlName="selectedRegion">
            <bit-option
              *ngFor="let regionConfig of availableRegionConfigs"
              [value]="regionConfig"
              [label]="regionConfig.domain"
            ></bit-option>
          </bit-select>
        </bit-form-field>
      </ng-container>

      <bit-form-field>
        <bit-label>{{ "emailAddress" | i18n }}</bit-label>
        <input
          id="register-start_form_input_email"
          bitInput
          type="email"
          formControlName="email"
          [attr.readonly]="emailReadonly ? true : null"
        />
      </bit-form-field>

      <bit-form-field>
        <bit-label>{{ "name" | i18n }}</bit-label>
        <input id="register-start_form_input_name" bitInput type="text" formControlName="name" />
      </bit-form-field>

      <bit-form-control *ngIf="!isSelfHost">
        <input
          id="register-start-form-input-accept-policies"
          type="checkbox"
          bitCheckbox
          formControlName="acceptPolicies"
        />
        <bit-label for="register-start-form-input-accept-policies">
          {{ "acceptPolicies" | i18n }}<br />
          <a href="https://bitwarden.com/terms/" target="_blank" rel="noreferrer">{{
            "termsOfService" | i18n
          }}</a
          >,
          <a href="https://bitwarden.com/privacy/" target="_blank" rel="noreferrer">{{
            "privacyPolicy" | i18n
          }}</a>
        </bit-label>
      </bit-form-control>

      <button [block]="true" type="submit" buttonType="primary" bitButton bitFormButton>
        {{ "continue" | i18n }}
      </button>

      <bit-error-summary *ngIf="showErrorSummary" [formGroup]="formGroup"></bit-error-summary></form
  ></ng-container>
  <ng-container *ngIf="state === RegistrationStartState.CHECK_EMAIL">
    <div class="tw-flex tw-flex-col tw-items-center tw-justify-center">
      <bit-icon [icon]="Icons.RegistrationCheckEmailIcon" class="tw-mb-6"></bit-icon>

      <h2
        bitTypography="h2"
        id="check_your_email_heading"
        class="tw-font-bold tw-mb-3"
        tabindex="0"
        appAutofocus
      >
        {{ "checkYourEmail" | i18n }}
      </h2>

      <p bitTypography="body1" tabindex="0" class="tw-text-center tw-mb-3">
        {{ "followTheLinkInTheEmailSentTo" | i18n }}
        <span class="tw-font-bold">{{ email.value }}</span>
        {{ "andContinueCreatingYourAccount" | i18n }}
      </p>

      <p bitTypography="helper" class="tw-text-center" tabindex="0">
        {{ "noEmail" | i18n }}
        <a
          bitLink
          linkType="primary"
          class="tw-cursor-pointer"
          tabindex="0"
          (click)="state = RegistrationStartState.USER_DATA_ENTRY"
        >
          {{ "goBack" | i18n }}
        </a>
        {{ "toEditYourEmailAddress" | i18n }}
      </p>
    </div>
  </ng-container>
</div>
