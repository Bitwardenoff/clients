import { Meta, Story, Controls } from "@storybook/addon-docs";

import * as stories from "./anon-layout.stories";

<Meta of={stories} />

# AnonLayout Component

The AnonLayoutComponent is to be used for all unauthenticated pages, where we don't know who the
user is (this includes viewing a Send).

The AnonLayoutComponent is not to be implemented by every component that uses it in the component
template directly. Instead the AnonLayoutComponent is implemented via routable composition, which
gives us the advantages of nested routes in Angular.

To allow for routable composition, Web has an AnonLayoutWrapperComponent which acts as a wrapper and
embeds the AnonLayoutComponent. For clarity:

- AnonLayoutComponent = CL component
- AnonLayoutWrapperComponent = Web component (which wraps the CL component) - in
  apps/web/src/app/auth/anon-layout-wrapper.component.ts

The contents of the AnonLayoutWrapperComponent (Web) are the AnonLayoutComponent (CL) along with the
router outlets:

```html
<!-- anon-layout-wrapper.component.html -->

<auth-anon-layout>
  <router-outlet></router-outlet>
  <router-outlet slot="secondary" name="secondary"></router-outlet>
</auth-anon-layout>
```

The developer uses the AnonLayoutWrapperComponent (Web) in oss-routing.module.ts and constructs the
page via routable composition:

```javascript
{
    path: "",
    component: AnonLayoutWrapperComponent, // Web component (not the CL component)
    children: [
      {
        path: "sample-route", // replace with your route
        component: MyPrimaryComponent, // replace with your component
      },
      {
        path: "",
        component: MySecondaryComponent, // replace with your component (or remove this secondary outlet entirely if not needed)
        outlet: "secondary",
      },
    ],
  },
```

<Story of={stories.WithSecondaryContent} />
