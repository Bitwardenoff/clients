import { Meta, Story, Primary, Controls } from "@storybook/addon-docs";

import * as stories from "./dialog.stories";

<Meta of={stories} />

# Dialog

Dialogs are used throughout the app to help the user focus on a specific action. Use this dialog
component when content exceeds 384px width or there are a high number of interactive elements
needed. **Example:** Item type form dialog

For alerts or simple confirmation actions, like speedbumps, use the
[Simple Dialog](?path=/docs/component-library-dialogs-simple-dialog--docs).

Dialogs's should be used sparingly as they do call extra attention to themselves and can be
interruptive if overused.

<Primary />
<Controls />

## Placement

Dialogs should be centered vertically and horizontally on screen. Dialogs height should expand to
fit its content until there are 2rems of margin on the top/bottom of the dialog; in this case, the
dialog should become scrollable.

A background scrim should be used to hide the content below the dialog. Use `#000000` with
`30% opacity`. See [Dialog Service](?path=/docs/component-library-dialogs-service--docs)

## Size

There are 3 main dialog sizes:

### Large

Use the large size for dialogs that have many interactive elements or tabbed content.

**Tailwind styling:**

` w-3/4` width: 75%;

`max-w-3xl` 768px

<Story of={stories.Large} />

### Default

Use the Default size for most dialogs that require some content and a few interactive elements.
**Example:** master password confirmation dialog

**Tailwind styling:**

`w-1/2` width: 50%;

`max-w-xl` 576px

<Story of={stories.Default} />

### Small

**Tailwind styling:**

`w-96` width: 24rem (384px)

`max-w-sm` 384px

<Story of={stories.Small} />

## Long Title

If a dialog's title is too long to fully display. It should be truncated and on hover shown in a
tooltip.

<Story of={stories.LongTitle} />

## Loading

Similar to a page loading state, a Dialog that takes more than a few seconds to load should use a
loading state.

<Story of={stories.Loading} />

## Tab Content

Use tabs to separate related content within a dialog.

<Story of={stories.TabContent} />

## Accessibility

The triggering button should indicate to assistive technology that additional content will open or
appear when the trigger is selected. Consider using `aria-haspopup="true"`

Dialog should include `role=“dialog”`

The Dialog title should be in an `<h1>`

Dialog title should be announced by a screen reader when launched. Consider using `aria-labledby` or
`aria-label`

When opened, focus should follow the visual order of the popover’s focusable content. Typically
focus is moved to the close button, but it is acceptable to move focus to the first interactive
element after close since a user may not want to close the dialog immediately if there are
additional interactive elements. See
[WCAG Focus Order success criteria](https://www.w3.org/WAI/WCAG21/Understanding/focus-order.html)

A user should not be able to tab focus outside of the Dialog until it has been closed.

Once closed, focus should remain on the the element which triggered the Dialog.

Clicking outside the dialog or clicking escape should close the dialog (this prevents a keyboard
trap)
