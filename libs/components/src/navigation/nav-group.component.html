<!-- This a higher order component that composes `NavItemComponent`  -->
<nav-item
  [title]="title"
  [icon]="icon"
  [route]="route"
  [variant]="variant"
  (mainContentClicked)="toggle()"
>
  <!-- If `tree` variant, use `slot-slart` -->
  <!-- All other properties are shared between the two buttons, except for `bitIconButton` -->
  <button
    *ngIf="variant === 'tree'"
    slot-start
    class="tw-ml-auto"
    [bitIconButton]="open ? 'bwi-chevron-up' : 'bwi-angle-right'"
    [buttonType]="'contrast'"
    (click)="toggle($event)"
    size="small"
    [title]="'options' | i18n"
    aria-haspopup="true"
    [attr.aria-expanded]="open.toString()"
    [attr.aria-controls]="contentId"
    [attr.aria-label]="'options' | i18n"
  ></button>
  <!-- If `default` variant, use `slot-end` -->
  <button
    *ngIf="variant === 'default'"
    slot-end
    class="tw-ml-auto"
    [bitIconButton]="open ? 'bwi-chevron-up' : 'bwi-angle-down'"
    [buttonType]="'contrast'"
    (click)="toggle($event)"
    size="small"
    [title]="'options' | i18n"
    aria-haspopup="true"
    [attr.aria-expanded]="open.toString()"
    [attr.aria-controls]="contentId"
    [attr.aria-label]="'options' | i18n"
  ></button>
</nav-item>
<!-- [attr.id] needs to be a unique ID for this element -->
<div #contentContainer>
  <div *ngIf="open" [attr.id]="contentId">
    <ng-content></ng-content>
  </div>
</div>
