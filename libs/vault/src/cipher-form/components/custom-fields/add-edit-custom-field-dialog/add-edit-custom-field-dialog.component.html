<bit-dialog>
  <span bitDialogTitle>
    <ng-container *ngIf="variant === 'add'; else editTitle">
      {{ "addField" | i18n }}
    </ng-container>
    <ng-template #editTitle>
      {{ "editField" | i18n }}
    </ng-template>
  </span>
  <div bitDialogContent [formGroup]="customFieldForm">
    <bit-form-field *ngIf="variant === 'add'">
      <bit-label>{{ "fieldType" | i18n }}</bit-label>
      <bit-select id="fieldType" formControlName="type">
        <bit-option
          *ngFor="let type of fieldTypeOptions"
          [value]="type.value"
          [label]="type.name"
        ></bit-option>
      </bit-select>
      <bit-hint>
        {{ getTypeHint() }}
      </bit-hint>
    </bit-form-field>

    <bit-form-field disableMargin>
      <bit-label>{{ "fieldLabel" | i18n }}</bit-label>
      <input bitInput id="fieldLabel" formControlName="label" type="text" />
      <bit-hint *ngIf="customFieldForm.value.type === FieldType.Linked">
        {{ "linkedLabelHelpText" | i18n }}
      </bit-hint>
    </bit-form-field>
  </div>
  <div bitDialogFooter class="tw-flex tw-gap-2">
    <button
      *ngIf="variant === 'add'"
      bitButton
      buttonType="primary"
      type="button"
      (click)="addField()"
    >
      {{ "add" | i18n }}
    </button>
    <button
      *ngIf="variant === 'edit'"
      bitButton
      buttonType="primary"
      type="button"
      (click)="updateLabel()"
    >
      {{ "save" | i18n }}
    </button>
    <button bitButton bitDialogClose buttonType="secondary" type="button">
      {{ "cancel" | i18n }}
    </button>
  </div>
</bit-dialog>
