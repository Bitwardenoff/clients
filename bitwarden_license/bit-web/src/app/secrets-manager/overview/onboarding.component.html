<details #details class="tw-rounded-sm tw-bg-background-alt tw-text-main" (toggle)="toggle()" open>
  <summary class="tw-list-none tw-p-2 tw-px-4">
    <div class="tw-flex tw-select-none tw-items-center tw-gap-4">
      <i class="bwi bwi-dashboard tw-text-3xl tw-text-primary-500" aria-hidden="true"></i>
      <div class="tw-text-lg">{{ title }}</div>
      <bit-progress class="tw-flex-1" [showText]="false" [barWidth]="barWidth"></bit-progress>
      <div>
        <span *ngIf="tasks.length > 0; else spinner">{{ completed }}/{{ tasks?.length }}</span>
        complete
      </div>
      <i
        class="bwi tw-my-auto"
        [ngClass]="open ? 'bwi-angle-down' : 'bwi-angle-up'"
        aria-hidden="true"
      ></i>
    </div>
  </summary>
  <ul class="tw-ml-6 tw-flex tw-flex-col tw-gap-4 tw-p-2 tw-pb-6">
    <ng-content></ng-content>
  </ul>
</details>

<ng-template #spinner>
  <i class="bwi bwi-spinner bwi-spin"></i>
</ng-template>
