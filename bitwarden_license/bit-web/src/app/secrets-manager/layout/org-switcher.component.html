<nav-group
  *ngIf="activeOrganization$ | async as activeOrganization"
  [text]="activeOrganization.name"
  icon="bwi-business"
  [route]="['../', activeOrganization.id]"
  #parentGroup
>
  <ng-container *ngIf="organizations$ | async as organizations">
    <nav-item
      *ngFor="let org of organizations"
      [text]="org.name"
      [route]="['../', org.id]"
      (mainContentClicked)="parentGroup.toggle()"
      [hideActiveStyles]="true"
    >
      <button
        slot-end
        class="tw-text-white tw-ml-auto"
        bitIconButton="bwi-ellipsis-v"
        [bitMenuTriggerFor]="orgSwitchMenu"
        size="small"
        [title]="'options' | i18n"
        [attr.aria-label]="'options' | i18n"
      ></button>
    </nav-item>
  </ng-container>
  <nav-item icon="bwi-plus" text="New Organization" route="/create-organization"></nav-item>
  <nav-divider></nav-divider>
</nav-group>

<bit-menu #orgSwitchMenu>
  <button type="button" bitMenuItem>
    <i class="bwi bwi-fw bwi-key tw-text-xl" aria-hidden="true"></i>
    <span>{{ "enrollPasswordReset" | i18n }}</span>
  </button>
  <button type="button" bitMenuItem>
    <i class="bwi bwi-fw bwi-link tw-text-xl" aria-hidden="true"></i>
    <span>{{ "linkSso" | i18n }}</span>
  </button>
  <button type="button" bitMenuItem>
    <i class="bwi bwi-fw bwi-sign-out tw-text-xl tw-text-danger" aria-hidden="true"></i>
    <span class="tw-text-danger">{{ "leaveOrganization" | i18n }}</span>
  </button>
</bit-menu>
