<form #form [formGroup]="formGroup" (ngSubmit)="submit()" [appApiAction]="formPromise">
  <bit-dialog dialogSize="default">
    <ng-container bitDialogTitle>{{ title | i18n }}</ng-container>
    <div bitDialogContent>
      <bit-tab-group>
        <bit-tab [label]="'nameValuePair' | i18n">
          <div class="tw-flex tw-gap-4 tw-pt-4">
            <bit-form-field class="tw-w-1/3">
              <bit-label for="secret-name">{{ "name" | i18n }}</bit-label>
              <input formControlName="name" bitInput />
            </bit-form-field>
            <bit-form-field class="tw-w-full">
              <bit-label>{{ "value" | i18n }}</bit-label>
              <textarea bitInput rows="4" formControlName="value"></textarea>
            </bit-form-field>
          </div>
          <bit-form-field>
            <bit-label>{{ "notes" | i18n }}</bit-label>
            <textarea bitInput rows="4" formControlName="notes"></textarea>
          </bit-form-field>
        </bit-tab>
        <bit-tab [label]="'serviceAccounts' | i18n"></bit-tab>
        <bit-tab [label]="'projects' | i18n"></bit-tab>
      </bit-tab-group>
    </div>
    <div bitDialogFooter class="tw-flex tw-gap-2">
      <button bitButton buttonType="primary" [loading]="form.loading">
        {{ "save" | i18n }}
      </button>
      <button bitButton buttonType="secondary" bitDialogClose (click)="dialogRef.close()">
        {{ "cancel" | i18n }}
      </button>
    </div>
  </bit-dialog>
</form>
