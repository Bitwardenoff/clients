<bit-table>
  <ng-container header>
    <tr>
      <th bitCell class="tw-w-0">
        <input
          type="checkbox"
          (change)="$event ? toggleAll() : null"
          [checked]="selection.hasValue() && isAllSelected()"
          [indeterminate]="selection.hasValue() && !isAllSelected()"
        />
      </th>
      <th bitCell colspan="2">{{ "name" | i18n }}</th>
      <th bitCell>{{ "lastEdited" | i18n }}</th>
      <th bitCell class="tw-w-0">
        <button
          bitIconButton="bwi-ellipsis-v"
          buttonType="main"
          title="{{ 'options' | i18n }}"
          [bitMenuTriggerFor]="tableMenu"
          [attr.title]="'options' | i18n"
          [attr.aria-label]="'options' | i18n"
        ></button>
      </th>
    </tr>
  </ng-container>
  <ng-container body>
    <tr bitRow *ngFor="let project of projects; index as i">
      <td bitCell>
        <input
          type="checkbox"
          (change)="$event ? selection.toggle(project.id) : null"
          [checked]="selection.isSelected(project.id)"
        />
      </td>
      <td bitCell class="tw-w-0 tw-pr-0">
        <i class="bwi bwi-folder tw-text-xl tw-text-muted" aria-hidden="true"></i>
      </td>
      <td bitCell>{{ project.name }}</td>
      <td bitCell>{{ project.revisionDate | date: "medium" }}</td>
      <td bitCell>
        <button
          bitIconButton="bwi-ellipsis-v"
          buttonType="main"
          [bitMenuTriggerFor]="projectMenu"
          title="{{ 'options' | i18n }}"
          [attr.title]="'options' | i18n"
          [attr.aria-label]="'options' | i18n"
        ></button>
      </td>
      <bit-menu #projectMenu>
        <button type="button" bitMenuItem (click)="editProjectEvent.emit(project.Id)">
          <i class="bwi bwi-fw bwi-pencil tw-text-xl" aria-hidden="true"></i>
          {{ "editProject" | i18n }}
        </button>
        <button type="button" bitMenuItem (click)="viewProjectEvent.emit(project.Id)">
          <i class="bwi bwi-fw bwi-eye tw-text-xl" aria-hidden="true"></i>
          {{ "viewProject" | i18n }}
        </button>
        <button type="button" bitMenuItem (click)="deleteProjectEvent.emit(project.Id)">
          <i class="bwi bwi-fw bwi-trash tw-text-xl tw-text-danger" aria-hidden="true"></i>
          <span class="tw-text-danger">{{ "deleteProject" | i18n }}</span>
        </button>
      </bit-menu>
    </tr>
  </ng-container>
</bit-table>

<bit-menu #tableMenu>
  <button type="button" bitMenuItem>
    <i class="bwi bwi-fw bwi-trash tw-text-xl tw-text-danger" aria-hidden="true"></i>
    <span class="tw-text-danger">{{ "deleteProjects" | i18n }}</span>
  </button>
</bit-menu>
